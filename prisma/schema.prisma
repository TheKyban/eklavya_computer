datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id        String    @id @default(auto()) @map("_id") @db.ObjectId
    userId    String    @unique
    name      String
    email     String?   @unique
    img       String?
    password  String
    phone     String
    address   Address
    role      role      @default(FRANCHISE)
    isActive  Boolean   @default(true)
    branch    String
    Students  Student[]
    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
}

type Address {
    state    String
    district String
    pincode  String
    street   String
}

model Student {
    id            String  @id @default(auto()) @map("_id") @db.ObjectId
    name          String
    img           String
    fatherName    String
    motherName    String
    gender        gender
    formNumber    String
    registrantion String
    dob           String
    mobile        String
    email         String?
    doa           String
    course        String
    address       Json
    branch        String
    Branch        User    @relation(fields: [branch], references: [userId])
}

enum gender {
    MALE
    FEMALE
    TRANSGENDER
}

enum role {
    ADMIN
    FRANCHISE
}
